# ================================================
# RUBY->MODEL->REVIEW ============================
# ================================================
class Review < ApplicationRecord

  # ----------------------------------------------
  # DATABASE -------------------------------------
  # ----------------------------------------------
  connects_to database: { writing: :direct, reading: :direct_replica }

  # ----------------------------------------------
  # RELATIONS ------------------------------------
  # ----------------------------------------------
  belongs_to :unit

  # ----------------------------------------------
  # ENUMS/CONSTANTS ------------------------------
  # ----------------------------------------------
  enum status: %i[pending rejected published]

  # ----------------------------------------------
  # SCOPES ---------------------------------------
  # ----------------------------------------------
  scope :with_status, -> (status) { where(status: status) }

end